<!DOCTYPE html>
<html lang="en">
<head>
    <title>ICalendar Events with Python</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <link rel="stylesheet" href="shower/themes/ribbon/styles/styles.css">
    <link rel="stylesheet" href="style.css">
    <style>
        .shower {
            --slide-ratio: calc(16 / 9);
        }i
    </style>
</head>
<body class="shower list">

    <header class="caption">
        <h1>Factors for a Useful Open-Source Library</h1>
        <p>A Case Study on ICalendar Events in Python</p>
        <p>You can <a href="https://youtu.be/8l3opDdg92I?t=10369">watch this talk online on Youtube</a>.</p>
    </header>

    <section class="slide" id="cover">
        <h2>Factors for a Useful Open-Source Library</h2>
        <p>A Case Study on ICalendar Events in Python</p>
        <p>by <a href="https://niccokunzmann.github.io">Nicco Kunzmann</a></p>
        <figure>
            <img class="cover" src="pictures/cat.jpg" alt="Cat next to my phone">
            <figcaption class="copyright right white">
                <a href="https://niccokunzmann.github.io">© Nicco Kunzmann</a>
            </figcaption>
        </figure>
        
        <style>
            #cover h2 {
                margin: 30px 0 0;
                color: white;
                text-align: center;
                font-size: 70px;
            }

            #cover p {
                margin: 10px 0 0;
                text-align: center;
                color: white;
                font-style: italic;
                font-size: 30px;
                background-color: rgba(0.5, 0.5, 0.5, 0.5)
            }

            #cover p a {
                text-decoration: none;
                color: white;
            }
        </style>
    </section>

    <section class="slide">
        <h2>Structure</h2>
        <p class="note">Are you curious about something? Ask instantly so I can fit answers in!</p>
        <ol>
            <li>About Me</li>
            <li>Learnings from the recurring_ical_events library</li>
            <li>Factors for open-source library success</li>
            <li>Questions and Answers</li>
            <!-- <li>End: Chat and Hands-On Session</li> -->
        </ol>
        <p>
            Slides: <a href="https://niccokunzmann.github.io/ical-talk-fossasia-2022">niccokunzmann.github.io/ical-talk-fossasia-2022</a>
        </p>
    </section>
    <section class="slide">
        <h2>About Nicco Kunzmann</h2>
        <ul>
          <li>Website: <a href="https://niccokunzmann.github.io">niccokunzmann.github.io</a></li>
          <li>Living in eco-village "Tipi Valley" in Wales/UK with my family</li>
        </ul>
    </section>

    <section class="slide">
        <figure>
            <img class="cover width" src="pictures/programming.jpg" alt="Sitting and programming in front of the burner.">
            <figcaption class="copyright right white">
                <a href="">© Kirstin Heidler</a>
            </figcaption>
        </figure>
    </section>

    <section class="slide">
        <h2>recurring_ical_events - History</h2>
        <ol>
          <li>Federated calendar system: Open-Web-Calendar</li>
          <li>user-controlled multi-source calendar, no self-hosting required</li>
          <li><a href="https://openwebcalendar.herokuapp.com">openwebcalendar.herokuapp.com</a></li>
          <li>Issue: How to display events from ICS files?</li>
        </ol>
    </section>

    <section class="slide">
        <h2>recurring_ical_events - History</h2>
        <ol>
          <li>Decision: <a href="https://pypi.org/project/recurring-ical-events/">new library <code>python-recurring-ical-events</code></a></li>
          <li>
              <img src="pictures/build.svg" height="40em"/>
              <img src="pictures/pypi.svg" height="40em" />
              <img src="pictures/downloads.svg" height="40em" />
          </li>
        </ol>
    </section>

    <section class="slide">
        <h2>Factor: Your Use Case</h2>
        <ol>
          <li>Solves your problem.</li>
          <li>As small as possible</li>
          <li>Easy interface: <code>between(start, end)</code></li>
        </ol>
    </section>

    <section class="slide">
        <h2>Factor: License</h2>
        <ol>
          <li>open-source</li>
          <li>License: LGPL</li>
          <li>Not: MIT/Apache</li>
          <li>Not: GPL</li>
        </ol>
    </section>

    <section class="slide">
        <h2>Factor: Common Use Case</h2>
        <ol>
          <li>Easy interface: <code>at(a_date)</code> and <code>between(start, end)</code></li>
          <li>Interoperable Base: <code>icalendar</code></li>
        </ol>
    </section>

    <section class="slide">
        <h2>Factor: Documentation First</h2>
        <ol>
          <li>README first!</li>
          <li>How do you want to use it?</li>
          <li>Answer a few Stack Overflow questions.</li>
        </ol>
    </section>

    <section class="slide">
        <h2>Factor: Feedback</h2>
        <ol>
          <li>Usage in unknown places</li>
          <li>Other users ➡ feedback</li>
          <li>Higher quality!</li>
        </ol>
    </section>


    <section class="slide">
        <h2>Factor: Test Second</h2>
        <ol>
          <li>Test-Driven-Development (TDD)</li>
          <li>Knowledge not lost but increasing over time</li>
          <li>Changes not destructive</li>
          <li>long-term maintainability</li>
          <li>increasing quality with feedback</li>
          <li>Using pytest, more than 600 tests</li>
        </ol>
    </section>


    <section class="slide">
        <h2>Factor: Test Second</h2>
        <ol>
          <li>Find an issue</li>
          <li>Get example ICS file</li>
          <li>Write tests</li>
          <li>Implement change</li>
        </ol>
        <pre>
            <code>def test_only_one_event_present(calendars):</code>
            <code>    events = calendars.issue_1.at("20220408")</code>
            <code>    assert len(events) == 1</code>
        </pre>
    </section>


    <section class="slide">
        <h2>Factor: Complexity Last</h2>
        <ol>
          <li>Open Specifiation: RFC 5545</li>
          <li>Includes:
            <ol>
              <li><b>events</b> & <b>time zones</b></li>
              <li>journal entries, alarms, TODOs, free/busy times</li>
            </ol>
          </li>
        </ol>
    </section>

    <section class="slide">
        <h2>Factor: Complexity Last</h2>
        <pre>
          <code>BEGIN:VEVENT</code>
          <code><span class="comment">... removed lines ...</span></code>
          <code>DTSTART:202203<mark>07</mark>T120000Z</code>
          <code>RRULE:FREQ=WEEKLY;BYDAY=MO</code>
          <code>EXDATE:202203<mark>14</mark>T120000Z</code>
          <code>RDATE:202203<mark>26</mark>T14000Z</code>
          <code>END:VEVENT</code>
        </pre>
    </section>

    <section class="slide">
        <h2>Factor: Ecosystem Relationships</h2>
        <ol>
          <li><a href="https://pypi.org/project/icalendar">icalendar</a> - read and write ICalendar files</li>
          <li><a href="https://pypi.org/project/icalevents">icalevents</a> - same use-case as recurring_ical_events</li>
          <li><a href="https://icspy.readthedocs.io/en/stable/">icspy</a> - create simple events</li>
          <li><a href="https://openwebcalendar.herokuapp.com/">open-web-calendar</a> - display ICS files as web page</li>
          <li><a href="https://pypi.org/project/x-wr-timezone">x-wr-timezone</a> - correct X-WR-TIMEZONE issues</li>
        </ol>
    </section>

    <section class="slide" id="factors-summary">
        <h2>
          All Factors:
        </h2>
        <ol>
          <li>Your Use Case ➡ Common Use Case</li>
          <li>License</li>
          <li>Documentation First</li>
          <li>Test Second</li>
          <li>Complexity Last</li>
          <li>Feedback</li>
          <li>Ecosystem Relationships</li>
        </ol>
    </section>


    <section class="slide" id="see-more">
        <h2>
          Thanks for ...
        </h2>
        <ol>
          <li>
            <img src="pictures/logo.svg" alt="Shower logo">
            <a href="https://github.com/shower/shower">shower - the presentation engine</a>
          </li>
          <li>
              <a href="https://eventyay.com/e/6b901f56">FOSSASIA Summit 2022</a>
          </li>
          <li>
              Python, my teachers,
              your attention, the GPL, the support of my family, the
              smartphone apps I use for development. <a href="https://www.piwheels.org/">piwheels.org</a>
          </li>
        </ol>
        <p>
          This talk by Nicco Kunzmann is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="pictures/by-sa.svg">CC-BY-SA 4.0</a> License.
        </p>
        <style>
            #see-more h2 {
                font-size: 100px
            }

            #see-more img {
                width: 0.72em;
                height: 0.72em;
            }
        </style>
    </section>


    <section class="slide">
        <h2>Hands On!</h2>
        <ol>
          <li>Example program: <br/><a href="https://niccokunzmann.github.io/ical-talk-fossasia-2022/example.py">niccokunzmann.github.io/ical-talk-fossasia-2022/example.py</a></li>
          <li>Install Python3 and pip</li>
          <li>Run <pre><code>pip install recurring-ical-events</code></pre></li>
        </ol>
    </section>

    <section class="slide">
        <h2>Hands On!</h2>
        <pre>
          <code>import icalendar, recurring_ical_events</code>
          <code>from urllib.request import urlopen</code>
          <code>ical_string = urlopen(<mark>"http://tinyurl.com/y24m3r8f"</mark>).read()</code>
          <code>calendar = icalendar.Calendar.from_ical(ical_string)</code>
          <code>events = recurring_ical_events.of(calendar).at(<mark>(2019, 3)</mark>)</code>
          <code>for event in events:</code>
          <code>    print("start {} summary {}".format(event["DTSTART"].dt,</code>
          <code>                                       event.get("SUMMARY")))</code>
        </pre>
    </section>








    <section class="slide">
        <h2>ICalendar - Why?</h2>
        <ol>
          <li>Sharing of calendar events around the world</li>
          <li>Files: <code>.ics</code></li>
          <li>Used by: Nextloud, Eventyay, Thunderbird, Android, ...</li>
        </ol>
    </section>

    <section class="slide">
        <h2>ICalendar - Overview</h2>
        <ol>
          <li>Version 1.0 from 1997</li>
          <li>Current Version 2.0 since 2009</li>
        </ol>
    </section>

    <section class="slide">
        <h2>ICalendar - Examples - Page 1</h2>
          <pre>
            <code>BEGIN:VCALENDAR</code>
            <code>VERSION:2.0</code>
            <code>CALSCALE:GREGORIAN</code>
            <code>X-WR-CALNAME:FOSSASIA Talks</code>
            <code>BEGIN:VTIMEZONE</code>
            <code>TZID:Asia/Singapore</code>
            <code><span class="comment">... removed lines ...</span></code>
            <code>END:VTIMEZONE</code>
        </pre>
    </section>

    <section class="slide">
        <h2>ICalendar - Examples - Page 2</h2>
        <pre>
          <code>BEGIN:VEVENT</code>
          <code>UID:recurring-ical-events@FOSSASIA2022</code>
          <code>SUMMARY:Nicco's Talk about ICAL events!</code>
          <code>DTSTART;TZID=Asia/Singapore:20220408T213000</code>
          <code>DTEND;TZID=Asia/Singapore:20220408T215500</code>
          <!--<code>URL:https://eventyay.com/e/6b901f56/session/7507</code>-->
          <code>END:VEVENT</code>
          <code>END:VCALENDAR</code>
        </pre>
    </section>

    <section class="slide">
        <h2>ICalendar - Examples - Page 3 - Lunch with Friends</h2>
        <pre>
          <code>BEGIN:VEVENT</code>
          <code><span class="comment">... removed lines ...</span></code>
          <code>DTSTART:202203<mark>07</mark>T120000Z</code>
          <code>RRULE:FREQ=WEEKLY;BYDAY=MO</code>
          <code>EXDATE:202203<mark>14</mark>T120000Z</code>
          <code>RDATE:202203<mark>26</mark>T14000Z</code>
          <code>END:VEVENT</code>
        </pre>
    </section>


    <section class="slide">
        <h2>Future</h2>
        <ol>
          <li>Open an Issue!</li>
          <li>Command line interface?</li>
          <li>Generation of VTIMEZONE from Python time zones?</li>
        </ol>
    </section>

    <section class="slide">
        <h2>Questions!</h2>
        <ol>
          <li>e.g. Your experience with ICAL, project ideas, contribution practice, CI, testing, pytest?</li>
          <li>Hands-on session next: <br/><a href="https://niccokunzmann.github.io/ical-talk-fossasia-2022/example.py">niccokunzmann.github.io/ical-talk-fossasia-2022/example.py</a></li>
        </ol>
    </section>



<!--
    <section class="slide">
        <h2>Plain text on your slides</h2>
        <p>Lorem ipsum dolor sit amet, consectetur <a href="#4">adipisicing</a> elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, <em>quis nostrud</em> exercitation ullamco laboris <strong>nisi ut aliquip</strong> ex ea commodo consequat. Duis aute irure <i>dolor</i> in reprehenderit in voluptate velit esse cillum <b>dolore</b> eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in <code>&lt;culpa&gt;</code> qui officia deserunt mollit anim id est laborum.</p>
    </section>

    <section class="slide">
        <h2>Two columns if you like</h2>
        <div class="columns two">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation.</p>
            <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia.</p>
        </div>
    </section>

    <section class="slide">
        <h2>All kind of lists</h2>
        <ol>
            <li>Simple lists are marked with bullets</li>
            <li>Ordered lists begin with a number</li>
            <li>You can even nest lists one inside another
                <ul>
                    <li>Or mix their types</li>
                    <li>But do not go too far</li>
                    <li>Otherwise audience will be bored</li>
                </ul>
            </li>
            <li>Look, seven rows exactly!</li>
        </ol>
    </section>

    <section class="slide">
        <h2>Serious citations</h2>
        <figure>
            <blockquote>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia.</p>
            </blockquote>
            <figcaption>Marcus Tullius Cicero</figcaption>
        </figure>
    </section>

    <section class="slide">
        <h2>Code samples</h2>
        <pre>
            <code>&lt;!DOCTYPE html&gt;</code>
            <code class="mark">&lt;html lang="en"&gt;</code>
            <code><mark>&lt;head&gt;</mark> <span class="comment">&lt;!--Comment--&gt;</span></code>
            <code>    &lt;title&gt;Shower&lt;/title&gt;</code>
            <code>    &lt;meta charset="<mark class="important">UTF-8</mark>"&gt;</code>
            <code>    &lt;link rel="stylesheet" href="screen.css"&gt;</code>
            <code><mark>&lt;/head&gt;</mark></code>
        </pre>
    </section>

    <section class="slide">
        <h2>Even tables</h2>
        <table>
        <tr>
            <th scope="col">Locavore</th>
            <th>Umami</th>
            <th>Helvetica</th>
            <th>Vegan</th>
        </tr>
        <tr>
            <th scope="row">Fingerstache</th>
            <td>Kale</td>
            <td>Chips</td>
            <td>Keytar</td>
        </tr>
        <tr>
            <th scope="row">Sriracha</th>
            <td>Gluten-free</td>
            <td>Ennui</td>
            <td>Keffiyeh</td>
        </tr>
        <tr>
            <th scope="row">Thundercats</th>
            <td>Jean</td>
            <td>Shorts</td>
            <td>Biodiesel</td>
        </tr>
        <tr>
            <th scope="row">Terry</th>
            <td>Richardson</td>
            <td>Swag</td>
            <td>Blog</td>
        </tr>
        </table>
        <p>It’s good to have information organized.</p>
    </section>

    <section class="slide" id="picture">
        <h2>Pictures</h2>
        <figure>
            <img class="cover" src="pictures/picture.jpg" alt="Orange typewriter on a wooden table close-up">
            <figcaption class="copyright right white">
                <a href="https://fiftyfootshadows.net">© John Carey</a>
            </figcaption>
        </figure>
        <style>
            #picture h2 {
                color: white;
            }
        </style>
    </section>

    <section class="slide">
        <h2 class="shout shrink">You can even shout this way</h2>
    </section>

    <section class="slide">
        <h2>Inner navigation</h2>
        <ol>
            <li>Lets you reveal list items one by one</li>
            <li class="next">To keep some key points</li>
            <li class="next">In secret from audience</li>
            <li class="next">But it will work only once</li>
            <li class="next">Nobody wants to see the same joke twice</li>
        </ol>
    </section> -->

    <footer class="badge">
        <a href="https://github.com/niccokunzmann/ical-talk-fossasia-2022">Fork me on GitHub</a>
    </footer>

    <div class="progress"></div>

    <script src="shower/shower.js"></script>
    <!-- Copyright © 3000 Yours Truly, Famous Inc. -->

</body>
</html>
